# import ggplot2
library(ggplot2)
library(grid)

args <- commandArgs(trailingOnly=TRUE)
csv <- args[1]

d <- read.csv(csv, header=TRUE)
g <- d$Grade

grade <- data.frame(Rating=c(1:5), Answers=array(0, 5))
grade$Answers[1] <- sum(g == 1)
grade$Answers[2] <- sum(g == 2)
grade$Answers[3] <- sum(g == 3)
grade$Answers[4] <- sum(g == 4)
grade$Answers[5] <- sum(g == 5)

p <- ggplot(data=grade, aes(x=Rating, y=Answers, fill=Rating)) +
	geom_bar(colour="black", stat='identity', position='dodge') +
	opts(legend.position="none",
	     axis.text.x = theme_text(size=20),
	     axis.text.y = theme_text(size=20),
	     axis.title.x = theme_text(size=32),
	     axis.title.y = theme_text(size=32, angle=90)
	     )
postscript(file = paste('feedback', '.eps', sep=""), width = 800, height = 1280)
print(p)
dev.off()

q()
